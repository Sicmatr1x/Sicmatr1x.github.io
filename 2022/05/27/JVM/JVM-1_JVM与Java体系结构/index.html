<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>JVM-1_JVM与Java体系结构 | Sicmatr1x's Blog</title><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - 共 $1 行","copy":"复制","copyFinish":"复制成功","expand":"展开"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Sicmatr1x's Blog" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/toolkit/"><span class="navItemTitle">Toolkit</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>JVM-1_JVM与Java体系结构</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2022-05-27T02:04:40.000Z" id="date"> 2022-05-27</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2023-03-26T08:36:25.733Z" id="updated"> 2023-03-26</time></div></span></div></div><hr><div id="post-content"><h2 id="基于栈的指令集架构与基于寄存器的指令集架构"><a href="#基于栈的指令集架构与基于寄存器的指令集架构" class="headerlink" title="基于栈的指令集架构与基于寄存器的指令集架构"></a>基于栈的指令集架构与基于寄存器的指令集架构</h2><p>Java编译器输入的指令流基本上是一种基于栈的指令集架构，另外一种指令集架构则是基于寄存器的指令集架构。</p>
<p>基于栈式架构：</p>
<ul>
<li>设计和实现更简单，适用于资源受限的系统</li>
<li>避开了寄存器的分配难题：使用零地址指令方式分配</li>
<li>指令流中的指令大部分是零地址指令，其执行过程依赖于操作栈。指令集更小，编译器容易实现</li>
<li>不需要硬件支持</li>
</ul>
<p>基于寄存器架构：</p>
<ul>
<li>例如x86的二进制指令集</li>
<li>指令集架构完全依赖硬件</li>
<li>性能优秀，执行更高效</li>
<li>花费更少指令完成一项操作</li>
<li>通常为一地址指令、二地址指令、三地址指令。</li>
</ul>
<p>例如：计算2+3</p>
<p>基于栈：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">iconst_2 // 常量2入栈<br>istore_1<br>iconst_3 // 常量3入栈<br>istore_2<br>iload_1<br>iload_2<br>iadd  // 常量2，3出栈，执行相加<br>istore_0 // 结果5入栈<br></code></pre></td></tr></table></figure>

<p>基于寄存器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">mov eax,2 // 将eax寄存器值设为2<br>add eax,3 // 使eax寄出器的值加3<br></code></pre></td></tr></table></figure>

<h3 id="反编译字节码案例"><a href="#反编译字节码案例" class="headerlink" title="反编译字节码案例"></a>反编译字节码案例</h3><p>StackStruTest.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.sicmatr1x.java;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StackStruTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">j</span> <span class="hljs-operator">=</span> <span class="hljs-number">3</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">k</span> <span class="hljs-operator">=</span> i + j;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用javap反编译指令反编译StackStruTest.class字节码文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">javap -v StackStruTest.class<br></code></pre></td></tr></table></figure>

<p>反编译结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">  Last modified 2020-7-30; size 486 bytes<br>  MD5 checksum 618bcdd36b54bf88b6efa145bd258086<br>  Compiled from &quot;StackStruTest.java&quot;<br>public class com.sicmatr1x.java.StackStruTest<br>  minor version: 0<br>  major version: 52<br>  flags: ACC_PUBLIC, ACC_SUPER<br>Constant pool:<br>   #1 = Methodref          #3.#21         // java/lang/Object.&quot;&lt;init&gt;&quot;:()V<br>   #2 = Class              #22            // com/sicmatr1x/java/StackStruTest<br>   #3 = Class              #23            // java/lang/Object<br>   #4 = Utf8               &lt;init&gt;<br>   #5 = Utf8               ()V<br>   #6 = Utf8               Code<br>   #7 = Utf8               LineNumberTable<br>   #8 = Utf8               LocalVariableTable<br>   #9 = Utf8               this<br>  #10 = Utf8               Lcom/sicmatr1x/java/StackStruTest;<br>  #11 = Utf8               main<br>  #12 = Utf8               ([Ljava/lang/String;)V<br>  #13 = Utf8               args<br>  #14 = Utf8               [Ljava/lang/String;<br>  #15 = Utf8               i<br>  #16 = Utf8               I<br>  #17 = Utf8               j<br>  #18 = Utf8               k<br>  #19 = Utf8               SourceFile<br>  #20 = Utf8               StackStruTest.java<br>  #21 = NameAndType        #4:#5          // &quot;&lt;init&gt;&quot;:()V<br>  #22 = Utf8               com/sicmatr1x/java/StackStruTest<br>  #23 = Utf8               java/lang/Object<br>&#123;<br>  public com.sicmatr1x.java.StackStruTest();<br>    descriptor: ()V<br>    flags: ACC_PUBLIC<br>    Code:<br>      stack=1, locals=1, args_size=1<br>         0: aload_0<br>         1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V<br>         4: return<br>      LineNumberTable:<br>        line 3: 0<br>      LocalVariableTable:<br>        Start  Length  Slot  Name   Signature<br>            0       5     0  this   Lcom/sicmatr1x/java/StackStruTest;<br><br>  public static void main(java.lang.String[]);<br>    descriptor: ([Ljava/lang/String;)V<br>    flags: ACC_PUBLIC, ACC_STATIC<br>    Code:<br>      stack=2, locals=4, args_size=1<br>         0: iconst_2<br>         1: istore_1<br>         2: iconst_3<br>         3: istore_2<br>         4: iload_1<br>         5: iload_2<br>         6: iadd<br>         7: istore_3<br>         8: return<br>      LineNumberTable:<br>        line 5: 0<br>        line 6: 2<br>        line 7: 4<br>        line 8: 8<br>      LocalVariableTable:<br>        Start  Length  Slot  Name   Signature<br>            0       9     0  args   [Ljava/lang/String;<br>            2       7     1     i   I<br>            4       5     2     j   I<br>            8       1     3     k   I<br>&#125;<br>SourceFile: &quot;StackStruTest.java&quot;<br></code></pre></td></tr></table></figure>

<p>看code部分：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">Code:<br>    stack=2, locals=4, args_size=1<br>        0: iconst_2 // 定义常量2<br>        1: istore_1 // 保存到操作数1的栈中<br>        2: iconst_3 // 定义常量3<br>        3: istore_2 // 保存到操作数2的栈中<br>        4: iload_1 // 加载操作数1的值<br>        5: iload_2 // 加载操作数2的值<br>        6: iadd // 求和<br>        7: istore_3 // 保存到操作数3的栈中<br>        8: return<br></code></pre></td></tr></table></figure>

<h2 id="JVM的生命周期"><a href="#JVM的生命周期" class="headerlink" title="JVM的生命周期"></a>JVM的生命周期</h2><ol>
<li>虚拟机的启动：JVM的启动时通过引导类加载器(bootstrap class loader)创建一个初始类(initial class)来完成的，这个类是由JVM的具体实现指定的。</li>
<li>虚拟机的执行</li>
<li>虚拟机的终止：</li>
</ol>
<ul>
<li>程序正常执行结束</li>
<li>程序在执行过程中遇到异常或错误而异常终止</li>
<li>操作系统出现错误而导致JVM进程终止</li>
<li>某线程调用Runtime类或System类的exit方法或Runtime类的halt方法，并且Java安全管理器也允许这个词exit或halt操作</li>
<li>JNI(Java Native Interface)规范描述了用JNI Invocation API来加载或卸载JVM时JVM的退出情况</li>
</ul>
<h2 id="JVM发展历程"><a href="#JVM发展历程" class="headerlink" title="JVM发展历程"></a>JVM发展历程</h2><h3 id="Sum-Classic-VM"><a href="#Sum-Classic-VM" class="headerlink" title="Sum Classic VM"></a>Sum Classic VM</h3><p>世界上第一款商用Java虚拟机，虚拟机内部只提供了解释器</p>
<h3 id="Exact-VM"><a href="#Exact-VM" class="headerlink" title="Exact VM"></a>Exact VM</h3><p>JDK1.2</p>
<p>准确式内存管理(Exact Memory Management)：虚拟机可以知道内存中某个位置的数据具体是什么类型</p>
<h3 id="HotSpot-VM"><a href="#HotSpot-VM" class="headerlink" title="HotSpot VM"></a>HotSpot VM</h3><p>JDK1.3</p>
<p>是JDK6, JDK8默认虚拟机</p>
<h3 id="BEA的JRockit"><a href="#BEA的JRockit" class="headerlink" title="BEA的JRockit"></a>BEA的JRockit</h3><p>专注于服务器端应用</p>
<p>JRockit JVM是世界上最快的JVM</p>
<h3 id="IBM的J9"><a href="#IBM的J9" class="headerlink" title="IBM的J9"></a>IBM的J9</h3><p>IBM Techology for Java Virtual Machine简称IT4J，内部代号J9</p>
<h3 id="KVM和CDC-x2F-CLDC-Hotspot"><a href="#KVM和CDC-x2F-CLDC-Hotspot" class="headerlink" title="KVM和CDC&#x2F;CLDC Hotspot"></a>KVM和CDC&#x2F;CLDC Hotspot</h3><p>目前移动领域地位尴尬，KVM简单、轻量、高度可移植，面向低端可移动设备</p>
<h3 id="Azul-VM"><a href="#Azul-VM" class="headerlink" title="Azul VM"></a>Azul VM</h3><p>Azul VM和BEA Liquid VM与特定硬件平台绑定、软硬件配合的专有虚拟机</p>
<p>每个Azul VM实例都可以管理至少数十个CPU和数百GB内存的硬件资源，提供在巨大内存内实现可控的GC时间的垃圾收集器、专有硬件优化的线程调度等</p>
<h3 id="BEA-Liquid-VM"><a href="#BEA-Liquid-VM" class="headerlink" title="BEA Liquid VM"></a>BEA Liquid VM</h3><p>BEA开发用于自家Hypervisor系统，不需要操作系统的支持，它本身实现了一个专用操作系统的必要功能</p>
<h3 id="Apache-Harmony"><a href="#Apache-Harmony" class="headerlink" title="Apache Harmony"></a>Apache Harmony</h3><p>JDK1.5, JDK1.6</p>
<p>由IBM于Intel联合开发</p>
<h3 id="Microsoft-JVM"><a href="#Microsoft-JVM" class="headerlink" title="Microsoft JVM"></a>Microsoft JVM</h3><h3 id="Taobao-JVM"><a href="#Taobao-JVM" class="headerlink" title="Taobao JVM"></a>Taobao JVM</h3><p>基于OpenJDK HotSpot VM深度定制且开源的高性能服务器</p>
<h3 id="Dalvik-VM"><a href="#Dalvik-VM" class="headerlink" title="Dalvik VM"></a>Dalvik VM</h3><p>是虚拟机但不是Java虚拟机，不能直接执行Java的class文件，美原油遵循Java虚拟机规范</p>
<p>基于寄存器架构，不是JVM的栈架构，执行dex(Dalvik Executable)文件，可由class文件转化来</p>
<h3 id="Graal-VM"><a href="#Graal-VM" class="headerlink" title="Graal VM"></a>Graal VM</h3><p>Graal VM在HotSpot VM基础上增强而成的跨语言全栈虚拟机，可以作为任何语言的运行平台使用(包括：Java, Scala, Groovy, Kotlin; C, C++, JavaScript, Ruby, Python, R等)</p>
<p>支持不同语言中混用对方的接口和对象，支持这些语言使用已经编写好的本地库文件。工作原理是将这些语言的源码或源码编译后的中间格式通过解释器转换成能被Graal VM接受的中间表示。</p>
<p>还提供Truffle工具集快速构建面向一种新语言的解释器。</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2022/06/06/JVM/JVM-8_%E5%A0%86/">← Next JVM-8_堆</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2022/05/20/JVM/JVM-7_%E6%9C%AC%E5%9C%B0%E6%96%B9%E6%B3%95%E6%A0%88/">JVM-7_本地方法栈 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="文章目录">≡</a><a id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Sicmatr1x</a></h1><div id="description"><p>INTP/Traveller/Stoicism/Crypto-anarchism/Minimalism/Cosmopolitanism/English learner/Crypto/Java Engineer</p></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E4%BA%8E%E6%A0%88%E7%9A%84%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%9E%84%E4%B8%8E%E5%9F%BA%E4%BA%8E%E5%AF%84%E5%AD%98%E5%99%A8%E7%9A%84%E6%8C%87%E4%BB%A4%E9%9B%86%E6%9E%B6%E6%9E%84"><span class="toc-number">1.</span> <span class="toc-text">基于栈的指令集架构与基于寄存器的指令集架构</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E7%BC%96%E8%AF%91%E5%AD%97%E8%8A%82%E7%A0%81%E6%A1%88%E4%BE%8B"><span class="toc-number">1.1.</span> <span class="toc-text">反编译字节码案例</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JVM%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">2.</span> <span class="toc-text">JVM的生命周期</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JVM%E5%8F%91%E5%B1%95%E5%8E%86%E7%A8%8B"><span class="toc-number">3.</span> <span class="toc-text">JVM发展历程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Sum-Classic-VM"><span class="toc-number">3.1.</span> <span class="toc-text">Sum Classic VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Exact-VM"><span class="toc-number">3.2.</span> <span class="toc-text">Exact VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HotSpot-VM"><span class="toc-number">3.3.</span> <span class="toc-text">HotSpot VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BEA%E7%9A%84JRockit"><span class="toc-number">3.4.</span> <span class="toc-text">BEA的JRockit</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#IBM%E7%9A%84J9"><span class="toc-number">3.5.</span> <span class="toc-text">IBM的J9</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#KVM%E5%92%8CCDC-x2F-CLDC-Hotspot"><span class="toc-number">3.6.</span> <span class="toc-text">KVM和CDC&#x2F;CLDC Hotspot</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Azul-VM"><span class="toc-number">3.7.</span> <span class="toc-text">Azul VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#BEA-Liquid-VM"><span class="toc-number">3.8.</span> <span class="toc-text">BEA Liquid VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Apache-Harmony"><span class="toc-number">3.9.</span> <span class="toc-text">Apache Harmony</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Microsoft-JVM"><span class="toc-number">3.10.</span> <span class="toc-text">Microsoft JVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Taobao-JVM"><span class="toc-number">3.11.</span> <span class="toc-text">Taobao JVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Dalvik-VM"><span class="toc-number">3.12.</span> <span class="toc-text">Dalvik VM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Graal-VM"><span class="toc-number">3.13.</span> <span class="toc-text">Graal VM</span></a></li></ol></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script class="pjax-js">reset=_=>{gitalk = new Gitalk({
 clientID: '',
 clientSecret: '',
 repo: 'blog-comments',
 owner: 'Sicmatr1x',
 admin: ['Sicmatr1x'],
 distractionFreeMode: false,
 id: 
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();}</script><script src="/js/arknights.js"></script><script src="/js/pjax.js"></script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>