<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>EIP-20: ERC-20 Token Standard | Sicmatr1x's Blog</title><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"键入以继续","blurHolder":"数据检索","noResult":"无 $0 相关数据"},"code":{"codeInfo":"$0 - 共 $1 行","copy":"复制","copyFinish":"复制成功","expand":"展开"}}</script><script src="/js/gitalk.js"></script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}</style><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="Sicmatr1x's Blog" type="application/atom+xml">
</head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="数据检索" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/toolkit/"><span class="navItemTitle">Toolkit</span></a></li><li class="navItem"><a class="navBlock" href="/about/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>EIP-20: ERC-20 Token Standard</h1><div id="post-info"><span>文章发布时间: <div class="control"><time datetime="2020-09-16T15:18:30.000Z" id="date"> 2020-09-16</time></div></span><br><span>最后更新时间: <div class="control"><time datetime="2023-03-05T10:40:00.045Z" id="updated"> 2023-03-05</time></div></span></div></div><hr><div id="post-content"><h1 id="EIP-20-ERC-20-Token-Standard"><a href="#EIP-20-ERC-20-Token-Standard" class="headerlink" title="EIP-20: ERC-20 Token Standard"></a>EIP-20: ERC-20 Token Standard</h1><h2 id="Simple-Summary"><a href="#Simple-Summary" class="headerlink" title="Simple Summary"></a>Simple Summary</h2><p>A standard interface for tokens.</p>
<h2 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h2><p>The following standard allows for the implementation of a standard API for tokens within smart contracts. This standard provides basic functionality to transfer tokens, as well as allow tokens to be approved so they can be spent by another on-chain third party.</p>
<h2 id="Motivation"><a href="#Motivation" class="headerlink" title="Motivation"></a>Motivation</h2><p>A standard interface allows any tokens on Ethereum to be re-used by other applications: from wallets to decentralized exchanges.</p>
<h2 id="Specification"><a href="#Specification" class="headerlink" title="Specification"></a>Specification</h2><h3 id="Token"><a href="#Token" class="headerlink" title="Token"></a>Token</h3><h4 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h4><p><strong>NOTES</strong>:</p>
<ul>
<li>The following specifications use syntax from Solidity 0.4.17 (or above)</li>
<li>Callers MUST handle false from returns (bool success). Callers MUST NOT assume that false is never returned!</li>
</ul>
<p>name<br>Returns the name of the token - e.g. “MyToken”.</p>
<p>OPTIONAL - This method can be used to improve usability, but interfaces and other contracts MUST NOT expect these values to be present.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function name() public view returns (string)<br></code></pre></td></tr></table></figure>

<p>symbol<br>Returns the symbol of the token. E.g. “HIX”.</p>
<p>OPTIONAL - This method can be used to improve usability, but interfaces and other contracts MUST NOT expect these values to be present.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function symbol() public view returns (string)<br></code></pre></td></tr></table></figure>

<p>decimals<br>Returns the number of decimals the token uses - e.g. <code>8</code>, means to divide the token amount by <code>100000000</code> to get its user representation.</p>
<p>OPTIONAL - This method can be used to improve usability, but interfaces and other contracts MUST NOT expect these values to be present.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function decimals() public view returns (uint8)<br></code></pre></td></tr></table></figure>

<p>totalSupply</p>
<p>Returns the total token supply.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function totalSupply() public view returns (uint256)<br></code></pre></td></tr></table></figure>

<p>balanceOf</p>
<p>Returns the account balance of another account with address _owner.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function balanceOf(address _owner) public view returns (uint256 balance)<br></code></pre></td></tr></table></figure>

<p>transfer</p>
<p>Transfers <code>_value</code> amount of tokens to address <code>_to</code>, and MUST fire the Transfer event. The function SHOULD throw if the message caller’s account balance does not have enough tokens to spend.</p>
<p>Note Transfers of 0 values MUST be treated as normal transfers and fire the <code>Transfer</code> event.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function transfer(address _to, uint256 _value) public returns (bool success)<br></code></pre></td></tr></table></figure>

<p>transferFrom</p>
<p>Transfers <code>_value</code> amount of tokens from address <code>_from</code> to address <code>_to</code>, and MUST fire the Transfer event.</p>
<p>The <code>transferFrom</code> method is used for a withdraw workflow, allowing contracts to transfer tokens on your behalf. This can be used for example to allow a contract to transfer tokens on your behalf and&#x2F;or to charge fees in sub-currencies. The function SHOULD <code>throw</code> unless the <code>_from</code> account has deliberately authorized the sender of the message via some mechanism.</p>
<p>Note Transfers of 0 values MUST be treated as normal transfers and fire the <code>Transfer</code> event.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function transferFrom(address _from, address _to, uint256 _value) public returns (bool success)<br></code></pre></td></tr></table></figure>

<p>approve</p>
<p>Allows <code>_spender</code> to withdraw from your account multiple times, up to the <code>_value</code> amount. If this function is called again it overwrites the current allowance with <code>_value</code>.</p>
<p><strong>NOTE</strong>: To prevent attack vectors like the one <a target="_blank" rel="noopener" href="https://docs.google.com/document/d/1YLPtQxZu1UAvO9cZ1O2RPXBbT0mooh4DYKjA_jp-RLM/edit">described here</a> and discussed <a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/issues/20#issuecomment-263524729">here</a>, clients SHOULD make sure to create user interfaces in such a way that they set the allowance first to 0 before setting it to another value for the same spender. THOUGH The contract itself shouldn’t enforce it, to allow backwards compatibility with contracts deployed before</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function approve(address _spender, uint256 _value) public returns (bool success)<br></code></pre></td></tr></table></figure>

<p>allowance</p>
<p>Returns the amount which <code>_spender</code> is still allowed to withdraw from <code>_owner</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">function allowance(address _owner, address _spender) public view returns (uint256 remaining)<br></code></pre></td></tr></table></figure>

<h4 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h4><p>Transfer</p>
<p>MUST trigger when tokens are transferred, including zero value transfers.</p>
<p>A token contract which creates new tokens SHOULD trigger a Transfer event with the <code>_from</code> address set to <code>0x0</code> when tokens are created.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">event Transfer(address indexed _from, address indexed _to, uint256 _value)<br></code></pre></td></tr></table></figure>

<p>Approval</p>
<p>MUST trigger on any successful call to <code>approve(address _spender, uint256 _value)</code>.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">event Approval(address indexed _owner, address indexed _spender, uint256 _value)<br></code></pre></td></tr></table></figure>

<h2 id="Implementation"><a href="#Implementation" class="headerlink" title="Implementation"></a>Implementation</h2><p>There are already plenty of ERC20-compliant tokens deployed on the Ethereum network. Different implementations have been written by various teams that have different trade-offs: from gas saving to improved security.</p>
<p>Example implementations are available at</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/OpenZeppelin/openzeppelin-contracts/blob/9b3710465583284b8c4c5d2245749246bb2e0094/contracts/token/ERC20/ERC20.sol">OpenZeppelin implementation</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/ConsenSys/Tokens/blob/fdf687c69d998266a95f15216b1955a4965a0a6d/contracts/eip20/EIP20.sol">ConsenSys implementation</a></li>
</ul>
<h2 id="History"><a href="#History" class="headerlink" title="History"></a>History</h2><p>Historical links related to this standard:</p>
<ul>
<li>Original proposal from Vitalik Buterin: <a target="_blank" rel="noopener" href="https://github.com/ethereum/wiki/wiki/Standardized_Contract_APIs/499c882f3ec123537fc2fccd57eaa29e6032fe4a">https://github.com/ethereum/wiki/wiki/Standardized_Contract_APIs/499c882f3ec123537fc2fccd57eaa29e6032fe4a</a></li>
<li>Reddit discussion: <a target="_blank" rel="noopener" href="https://www.reddit.com/r/ethereum/comments/3n8fkn/lets_talk_about_the_coin_standard/">https://www.reddit.com/r/ethereum/comments/3n8fkn/lets_talk_about_the_coin_standard/</a></li>
<li>Original Issue #20: <a target="_blank" rel="noopener" href="https://github.com/ethereum/EIPs/issues/20">https://github.com/ethereum/EIPs/issues/20</a></li>
</ul>
<h2 id="Copyright"><a href="#Copyright" class="headerlink" title="Copyright"></a>Copyright</h2><p>Copyright and related rights waived via <a target="_blank" rel="noopener" href="https://creativecommons.org/publicdomain/zero/1.0/">CC0</a>.</p>
<h2 id="Citation"><a href="#Citation" class="headerlink" title="Citation"></a>Citation</h2><p>Please cite this document as:</p>
<p><a href="mailto:fabian@ethereum.org">Fabian Vogelsteller</a>, <a href="mailto:vitalik.buterin@ethereum.org">Vitalik Buterin</a>, “EIP-20: ERC-20 Token Standard,” Ethereum Improvement Proposals, no. 20, November 2015. [Online serial]. Available: <a target="_blank" rel="noopener" href="https://eips.ethereum.org/EIPS/eip-20">https://eips.ethereum.org/EIPS/eip-20</a>.</p>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2020/10/07/%E7%AE%97%E6%B3%95-%E9%80%92%E5%BD%92/">← Next 算法-递归</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2020/09/16/ETH-Solidity%E6%99%BA%E8%83%BD%E5%90%88%E7%BA%A6%E8%BF%9B%E9%98%B6/">ETH Solidity智能合约进阶 Prev →</a></div></div></div><div id="comments"><div class="selector"><button class="gitalk-sel"></button></div><div id="gitalk"></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="回到顶部" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="文章目录">≡</a><a id="color-mode" onClick="colorMode.change()" title="切换主题"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">Sicmatr1x</a></h1><div id="description"><p>INTP/Traveller/Stoicism/Crypto-anarchism/Minimalism/Cosmopolitanism/English learner/Crypto/Java Engineer</p></div></div><div id="aside-block"><div id="toc-div"><h1>目录</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#EIP-20-ERC-20-Token-Standard"><span class="toc-number">1.</span> <span class="toc-text">EIP-20: ERC-20 Token Standard</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Simple-Summary"><span class="toc-number">1.1.</span> <span class="toc-text">Simple Summary</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstract"><span class="toc-number">1.2.</span> <span class="toc-text">Abstract</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Motivation"><span class="toc-number">1.3.</span> <span class="toc-text">Motivation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Specification"><span class="toc-number">1.4.</span> <span class="toc-text">Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Token"><span class="toc-number">1.4.1.</span> <span class="toc-text">Token</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Methods"><span class="toc-number">1.4.1.1.</span> <span class="toc-text">Methods</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Events"><span class="toc-number">1.4.1.2.</span> <span class="toc-text">Events</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Implementation"><span class="toc-number">1.5.</span> <span class="toc-text">Implementation</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#History"><span class="toc-number">1.6.</span> <span class="toc-text">History</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Copyright"><span class="toc-number">1.7.</span> <span class="toc-text">Copyright</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Citation"><span class="toc-number">1.8.</span> <span class="toc-text">Citation</span></a></li></ol></li></ol></div></div><footer><nobr>构建自 <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> 使用主题 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>主题作者 <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script class="pjax-js">reset=_=>{gitalk = new Gitalk({
 clientID: '',
 clientSecret: '',
 repo: 'blog-comments',
 owner: 'Sicmatr1x',
 admin: ['Sicmatr1x'],
 distractionFreeMode: false,
 id: 
});
if (document.querySelector("#gitalk")) gitalk.render("gitalk");code.findCode();}</script><script src="/js/arknights.js"></script><script src="/js/pjax.js"></script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>