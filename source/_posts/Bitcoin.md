---
title: Bitcoin
date: 2019-09-13 14:01:27
categories:
    - 区块链
tags: 
    - 踩坑
    - ETH
---

比特币是一种运用 SHA-256 算法、链式加密结构、点对点（P2P）形式的数字货币，它利用 P2P 网络中众多节点构成的分布式数据库来确认并记录所有的交易行为。

采用非对称曲线加密算法和哈希算法两种

### UTXO

比特币在基于UTXO的结构中存储有关用户余额的数据：系统的整个状态就是一组UTXO的集合，每个UTXO都有一个所有者和一个面值（就像不同的硬币），而交易会花费若干个输入的UTXO，并根据规则创建若干个新的UTXO：

每个引用的输入必须有效且尚未花费；对于一个交易，必须包含有与每个输入的所有者匹配的签名；总输入必须大于等于总输出值所以，系统中用户的余额（balance)是用户具有私钥的UTXO的总值

所以系统中用户的余额(Balance)是用户具有私钥的UTXO的总值

比特币UTXO模式优点：
- 更高程度的隐私：如果用户为他们收到的每笔交易使用新地址，那么通常很难将帐户相互链接。这很大程度上适用于货币，但不太适用于任意dapps，因为dapps通常涉及跟踪和用户绑定的复杂状态，可能不存在像货币那样简单的用户状态划分方案。
- 潜在的可扩展性：UTXO在理论上更符合可扩展性要求。因为我们只需要依赖拥有UTXO的那些人去维护基于Merkle树的所有权证明就够了，即使包括所有者在内的每个人都决定忘记该数据，那么也只有所有者受到对应UTXO的损失，不影响接下来的交易。而在帐户模式中，如果每个人都丢失了与帐户相对应的Merkle树的部分，那将会使得和该帐户有关的消息完全无法处理，包括发币给它。

以太坊账户模式优点：
- 可以节省大量空间：不将UTXOs分开存储，而是合为一个账户；每个交易只需要一个输入、一个签名并产生一个输出。
- 更好的可替代性：货币本质上都是同质化、可替代的；UTXO的设计使得货币从来源分成了“可花费”和“不可花费”两类，这在实际应用中很难有对应的模型。
- 更加简单：更容易编码和理解，特别是设计复杂脚本的时候。UTXO在脚本逻辑复杂时更令人费解。
- 便于维护持久轻节点：只要沿着特定方向扫描状态树，轻节点可以很容易地随时访问账户相关的所有数据。而UTXO的每个交易都会使得状态引用发生改变，这对轻节点来说长时间运行Dapp会有很大压力。

